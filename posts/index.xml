<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Troy Hamilton</title>
        <link>https://troyhamilton-cloud.github.io/posts/</link>
        <description>Recent content in Posts on Troy Hamilton</description>
        <generator>Hugo -- gohugo.io</generator>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Sat, 04 Jan 2020 07:54:43 -0500</lastBuildDate>
        <atom:link href="https://troyhamilton-cloud.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>pscp and psftp are your friends</title>
            <link>https://troyhamilton-cloud.github.io/posts/2020/01/pscp-and-psftp-are-your-friends/</link>
            <pubDate>Sat, 04 Jan 2020 07:54:43 -0500</pubDate>
            
            <guid>https://troyhamilton-cloud.github.io/posts/2020/01/pscp-and-psftp-are-your-friends/</guid>
            <description>As magical as Hugo is, I couldn&amp;rsquo;t get the github deployment to work cleanly no matter how much I followed the official deployment guide on Windows 10 1809. When adding the submodule for the blog repo, this error kept pestering me:
&#39;public&#39; does not have a commit checked out All google-fu points to git v2.25.0.windows.1 and hugo extended v0.63.2 not being happy with each other. Luckily I have a CentOS vm that I&amp;rsquo;ve been using for my RHCSA labs and deploying my hugo blog to github ran clean with no errors.</description>
            <content type="html"><![CDATA[<p>As magical as Hugo is, I couldn&rsquo;t get the github deployment to work cleanly no matter how much I followed the official deployment guide on Windows 10 1809.  When adding the submodule for the blog repo, this error kept pestering me:</p>
<pre><code>'public' does not have a commit checked out
</code></pre><p>All google-fu points to git v2.25.0.windows.1 and hugo extended v0.63.2 not being happy with each other.  Luckily I have a CentOS vm that I&rsquo;ve been using for my RHCSA labs and deploying my hugo blog to github ran clean with no errors.  I didn&rsquo;t really want to retype some of the posts that I had in draft and there doesn&rsquo;t appear to be native clipboard support in Hyper-V.</p>
<p>puTTy and friends to the rescue!  Put your reading glasses on and have a gander (here)[https://www.putty.org].  If you&rsquo;re on Windows and install the full package, two of the hidden treasures in the puTTy box are pscp and psftp.  They do have some slight differences in syntax and I&rsquo;ve read in some places that only psftp supports SSLv2 but after running some Wireshark and tcpdump captures it looks like both of them do.  I prefer psftp but there are use cases for both.  With either utility, I&rsquo;ll assume that you&rsquo;re already added root path of the binaries to your %PATH% environment variable,  otherwise just navigate to them.  If in doubt, echo %PATH%.</p>
<p>This is a very, very small and scaled down list of the commands available for both, for a comprehensive list check out (this cool guide)[https://ssh.com/ssh/putty/putty-manual/0.68/index.html] at ssh.com.  Props to the team that put together the documentation.</p>
<hr>
<h1 id="psftp">PSFTP</h1>
<ul>
<li>Connect to the host.  This will drop you into a <strong>psftp&gt;</strong> prompt</li>
</ul>
<pre><code>psftp user@host
</code></pre><ul>
<li>Print remote directory</li>
</ul>
<pre><code>pwd
Current directory is /home/user
</code></pre><ul>
<li>Print local directory</li>
</ul>
<pre><code>lpwd
Current local directory is C:\users\user\Documents
</code></pre><ul>
<li>Change remote directory</li>
</ul>
<pre><code>cd /usr/local/bin
Remote directory is now /usr/local/bin
</code></pre><ul>
<li>List remote directory</li>
</ul>
<pre><code>ls
List direcotory /usr/local/bin
</code></pre><ul>
<li>Copy a file from local to remote</li>
</ul>
<pre><code>put file
local:file =&gt;remote:/usr/local/bin/file
</code></pre><ul>
<li>Copy a file from remote to local</li>
</ul>
<pre><code>get file
remote:/usr/local/bin/file =&gt; local:file
</code></pre><ul>
<li>Exit psftp</li>
</ul>
<pre><code>quit or exit
</code></pre><h1 id="pscp">PSCP</h1>
]]></content>
        </item>
        
        <item>
            <title>All the hugs for Hugo</title>
            <link>https://troyhamilton-cloud.github.io/posts/2020/01/all-the-hugs-for-hugo/</link>
            <pubDate>Fri, 03 Jan 2020 13:52:23 -0500</pubDate>
            
            <guid>https://troyhamilton-cloud.github.io/posts/2020/01/all-the-hugs-for-hugo/</guid>
            <description>I am not a front end developer&amp;hellip;
14 years in IT, I regret not learning more html/css/js. That negligence has brought me to this point.
There&amp;rsquo;s a big difference between working with html files hosted in a load balanced IIS cluster versus building a site from scratch, tweaking it, making it look good, etc.
Before Hugo I tried:
 Rolling my own with html 5 and css 3 - Way harder than it sounds [fail] Gatsby.</description>
            <content type="html"><![CDATA[<p>I am not a front end developer&hellip;</p>
<p>14 years in IT, I regret not learning more html/css/js.  That negligence has brought me to this point.</p>
<p>There&rsquo;s a big difference between working with html files hosted in a load balanced IIS cluster versus building a site from scratch, tweaking it, making it look good, etc.</p>
<p>Before Hugo I tried:</p>
<ul>
<li>Rolling my own with html 5 and css 3 - Way harder than it sounds [fail]</li>
<li>Gatsby.JS - Kinda need to know how to use Node.js, React, and GraphQL effectively which I don&rsquo;t [fail]</li>
<li>Pelican - Like the concept but the workflow was too destructive for me [fail]</li>
<li>MkDocs - Useful for documentation sites, not useful for blogging [fail]</li>
<li>Jekyll - Didn&rsquo;t want to go down the Ruby rabbit hole just yet [fail]</li>
</ul>
<p>I really wanted to make it work with Pelican and MkDocs since they&rsquo;re powered by Python which is a very powerful language.  But when your bottleneck is preventing you from moving forward, it&rsquo;s just time to move on.  Why Python?  Because DevOps of course :)</p>
<h3 id="yay-for-hugo">Yay for Hugo!</h3>
<p>Seriously, with Hugo I&rsquo;m able to get a format and workflow that I really enjoy.  Having this boring simplicity is ideal for me because there&rsquo;s already so much in my full-stack brain that if I tried to cram in too much front end stuff I might go crazy.</p>
<p>I&rsquo;m going to keep this blog as simple as possible.  No ads, no disqus, no commenting, no bullshit.</p>
<p>Shout out to <a href="https://zwbetz.com/make-a-hugo-blog-from-scratch/">zwbetz</a> for providing a very easy to follow guide on getting up and running with Hugo quickly.  Cheers!</p>
]]></content>
        </item>
        
        <item>
            <title>Fun with AWS EC2 and puTTy</title>
            <link>https://troyhamilton-cloud.github.io/posts/2020/01/fun-with-aws-ec2-and-putty/</link>
            <pubDate>Thu, 02 Jan 2020 13:52:16 -0500</pubDate>
            
            <guid>https://troyhamilton-cloud.github.io/posts/2020/01/fun-with-aws-ec2-and-putty/</guid>
            <description>In preparation for SAA-C01 I wanted to start looking into moving my site from Github+Netlify to EC2+S3+Jenkins. So I go to ssh into my free-tier instance from PuTTy on win10 and I get:
No supported authentication methods available (server sent: publickey,gssapi-keyex,gssapi-with-mic Interesting, but ok, let&amp;rsquo;s see what&amp;rsquo;s wrong. So I login to aws console and verify my ec2 instance is running. The green dot means running right :). But we&amp;rsquo;re architects/engineers/sysops/devops so we do things in cli right?</description>
            <content type="html"><![CDATA[<p>In preparation for SAA-C01 I wanted to start looking into moving my site from Github+Netlify to EC2+S3+Jenkins.  So I go to ssh into my free-tier instance from PuTTy on win10 and I get:</p>
<pre><code>No supported authentication methods available (server sent: publickey,gssapi-keyex,gssapi-with-mic
</code></pre><p>Interesting, but ok, let&rsquo;s see what&rsquo;s wrong.  So I login to aws console and verify my ec2 instance is running.  The green dot means running right :).  But we&rsquo;re architects/engineers/sysops/devops so we do things in cli right?</p>
<pre><code>aws ec2 describe-instance-status
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{     <span style="color:#f92672">&#34;InstanceStatuses&#34;</span>: [
        {
            <span style="color:#f92672">&#34;AvailabilityZone&#34;</span>: <span style="color:#e6db74">&#34;us-east-1c&#34;</span>,
            <span style="color:#f92672">&#34;InstanceId&#34;</span>: <span style="color:#e6db74">&#34;i-0x0x0x0x0x0x&#34;</span>,
            <span style="color:#f92672">&#34;InstanceState&#34;</span>: {
                <span style="color:#f92672">&#34;Code&#34;</span>: <span style="color:#ae81ff">16</span>,
                <span style="color:#f92672">&#34;Name&#34;</span>: <span style="color:#e6db74">&#34;running&#34;</span>
            },
            <span style="color:#f92672">&#34;InstanceStatus&#34;</span>: {
                <span style="color:#f92672">&#34;Details&#34;</span>: [                     {
                        <span style="color:#f92672">&#34;Name&#34;</span>: <span style="color:#e6db74">&#34;reachability&#34;</span>,
                        <span style="color:#f92672">&#34;Status&#34;</span>: <span style="color:#e6db74">&#34;passed&#34;</span>
                    }
                ],                 <span style="color:#f92672">&#34;Status&#34;</span>: <span style="color:#e6db74">&#34;ok&#34;</span>
            },
            <span style="color:#f92672">&#34;SystemStatus&#34;</span>: {
                <span style="color:#f92672">&#34;Details&#34;</span>: [                     {
                        <span style="color:#f92672">&#34;Name&#34;</span>: <span style="color:#e6db74">&#34;reachability&#34;</span>,
                        <span style="color:#f92672">&#34;Status&#34;</span>: <span style="color:#e6db74">&#34;passed&#34;</span>
                    }
                ],                 <span style="color:#f92672">&#34;Status&#34;</span>: <span style="color:#e6db74">&#34;ok&#34;</span>
            }
        }
    ]
}
</code></pre></div><p>Looks right to me.  Let&rsquo;s verify the security group after checking our local public ip using this powershell script:</p>
<pre><code>Invoke-RestMethod https://ipinfo.io/ip
</code></pre><p>First check what security group is applied to the instance:</p>
<pre><code>aws ec2 describe-instances
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;SecurityGroups&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> [ 		{
			<span style="color:#f92672">&#34;GroupName&#34;</span>: <span style="color:#e6db74">&#34;launch-wizard-2&#34;</span>,
			<span style="color:#f92672">&#34;GroupId&#34;</span>: <span style="color:#e6db74">&#34;sg-0x0x0x0x0x0x0x&#34;</span>
		}
	]
</code></pre></div><p>Cool, let&rsquo;s check out the security group inbound rules:</p>
<pre><code>aws ec2 describe-security-groups
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{ 	<span style="color:#f92672">&#34;FromPort&#34;</span>: <span style="color:#ae81ff">22</span>,
	<span style="color:#f92672">&#34;IpProtocol&#34;</span>: <span style="color:#e6db74">&#34;tcp&#34;</span>,
	<span style="color:#f92672">&#34;IpRanges&#34;</span>: [ 		{
			<span style="color:#f92672">&#34;CidrIp&#34;</span>: <span style="color:#e6db74">&#34;my.public.ip.here/32&#34;</span>
		}
	], 	<span style="color:#f92672">&#34;Ipv6Ranges&#34;</span>: [],
	<span style="color:#f92672">&#34;PrefixListIds&#34;</span>: [],
	<span style="color:#f92672">&#34;ToPort&#34;</span>: <span style="color:#ae81ff">22</span>,
	<span style="color:#f92672">&#34;UserIdGroupPairs&#34;</span>: []
}
</code></pre></div><p>Looks right to me there too.  So wtf?  Since this isn&rsquo;t a production box and I don&rsquo;t have anything critical on it, let&rsquo;s just reboot the box.  I know, I know, this shouldn&rsquo;t be the answer but for the sake of learning that&rsquo;s what we&rsquo;re going with.</p>
<pre><code>aws ec2 stop-instances --instance-ids i-0x0x0x0x0x
</code></pre><pre><code>aws ec2 start-instances --instance-ids i-0x0x0x0x0x
</code></pre><p>After the box boots up, let&rsquo;s try to ssh again&hellip; but wait!  Remember, ALWAYS CHECK THE PHYSICAL LAYER!!!  I load the session in putty and what do I see?  ec2-user;@publicdns.  A freaking semicolon after ec2-user!  Seriously I have no idea how that got there.  I delete the semicolon and I ssh to the instance right away.  Gggrrr!</p>
<p>Long story short, always check the physical layer.  I use the term physical layer loosely, in this scenario it&rsquo;s putty and the session hostname.</p>
]]></content>
        </item>
        
        <item>
            <title>A world of hellos</title>
            <link>https://troyhamilton-cloud.github.io/posts/2020/01/a-world-of-hellos/</link>
            <pubDate>Wed, 01 Jan 2020 01:54:43 -0500</pubDate>
            
            <guid>https://troyhamilton-cloud.github.io/posts/2020/01/a-world-of-hellos/</guid>
            <description>Step 1. Introduce yourself Hi! I&amp;rsquo;m Troy.
Step 2. Say something about yourself Something about yourself
Step 3. Tell a joke Q: Where do astronauts like to get a drink?
A: At the space bar. #dadjokes</description>
            <content type="html"><![CDATA[<h3 id="step-1-introduce-yourself">Step 1. Introduce yourself</h3>
<p>Hi!  I&rsquo;m Troy.</p>
<h3 id="step-2-say-something-about-yourself">Step 2. Say something about yourself</h3>
<p><em>Something about yourself</em></p>
<h3 id="step-3--tell-a-joke">Step 3.  Tell a joke</h3>
<p>Q: Where do astronauts like to get a drink?</p>
<p>A: At the <em>space bar</em>. #dadjokes</p>
]]></content>
        </item>
        
    </channel>
</rss>
